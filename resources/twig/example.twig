<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Example page{% endblock %}</title>
</head>
<body>

<h1>{{ block('title') }}</h1>

<h2>Twig extensions and middleware examples</h2>

<h3><em>CsrfTwigExtension</em> and <em>CsrfValidationMiddleware</em></h3>
{% if name is null %}
    <form method="post">
        {{ csrfTokenInput() }}
        <p>
            <label>
                Name:
                <input type="text" name="name" required>
            </label>
            <button type="submit">Submit</button>
        </p>
    </form>
{% else %}
    <p>Welcome <em>{{ name }}</em>!</p>
{% endif %}


<h3><em>RouterTwigExtension</em> and <em>AddRouteNameToTwigMiddleware</em></h3>
<ul>
    <li>base url: {{ baseUrl }}</li>
    <li>path: {{ pathFor(routeName) }}</li>
    <li>full url: {{ urlFor(routeName) }}</li>
    <li>route name: {{ routeName }}</li>
</ul>


<h3><em>ReflectionTwigExtension</em></h3>
{% if instanceOf(testObject, fqcn(testObject)) %}
    <p>Test object "{{ className(testObject) }}" is instance of "{{ fqcn(testObject) }}"</p>
{% else %}
    <p>Test failed!</p>
{% endif %}


<h3><em>TwigDebugMiddleware</em></h3>
{{ dump(date()) }}


</body>
</html>
